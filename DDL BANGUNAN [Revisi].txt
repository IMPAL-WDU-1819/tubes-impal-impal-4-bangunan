CREATE TABLE PELANGGAN 
(
  NOKTP_P VARCHAR2(50) NOT NULL 
, NAMA_P VARCHAR2(100) 
, NOHP_P NUMBER 
, ALAMAT_P VARCHAR2(100) 
, CONSTRAINT PELANGGAN_PK PRIMARY KEY 
  (
    NOKTP_P 
  )
  ENABLE 
);

CREATE TABLE ADMIN 
(
  NOKTP_AD VARCHAR2(50) NOT NULL 
, NAMA_AD VARCHAR2(100) 
, NOHP_AD NUMBER 
, CONSTRAINT ADMIN_PK PRIMARY KEY 
  (
    NOKTP_AD 
  )
  ENABLE 
);

CREATE TABLE MANDOR 
(
  NOKTP_M VARCHAR2(50) NOT NULL 
, NAMA_M VARCHAR2(100) 
, NOHP_M NUMBER 
, CONSTRAINT MANDOR_PK PRIMARY KEY 
  (
    NOKTP_M 
  )
  ENABLE 
);

CREATE TABLE BAHAN 
(
  ID_BN VARCHAR2(50) NOT NULL 
, NAMA_BN VARCHAR2(100) 
, STOK NUMBER 
, CONSTRAINT BAHAN_PK PRIMARY KEY 
  (
    ID_BN 
  )
  ENABLE 
);

CREATE TABLE PAKAI 
(
  ID_PEMAKAIAN VARCHAR2(50) NOT NULL 
, ID_BN VARCHAR2(50) 
, NOKTP_M VARCHAR2(50) 
, CONSTRAINT PAKAI_PK PRIMARY KEY 
  (
    ID_PEMAKAIAN 
  )
  ENABLE 
);

ALTER TABLE PAKAI
ADD CONSTRAINT PAKAI_FK1 FOREIGN KEY
(
  ID_BN 
)
REFERENCES BAHAN
(
  ID_BN 
)
ENABLE;

ALTER TABLE PAKAI
ADD CONSTRAINT PAKAI_FK2 FOREIGN KEY
(
  NOKTP_M 
)
REFERENCES MANDOR
(
  NOKTP_M 
)
ENABLE;

CREATE TABLE ARSITEK 
(
  NOKTP_AR VARCHAR2(50) NOT NULL 
, NAMA_AR VARCHAR2(100) 
, NOHP_AR NUMBER 
, NOKTP_AD VARCHAR2(50) 
, CONSTRAINT ARSITEK_PK PRIMARY KEY 
  (
    NOKTP_AR 
  )
  ENABLE 
);

ALTER TABLE ARSITEK
ADD CONSTRAINT ARSITEK_FK1 FOREIGN KEY
(
  NOKTP_AD 
)
REFERENCES ADMIN
(
  NOKTP_AD 
)
ENABLE;

CREATE TABLE BANGUNAN 
(
  ID_B VARCHAR2(50) NOT NULL 
, NOKTP_M VARCHAR2(50) 
, CONSTRAINT BANGUNAN_PK PRIMARY KEY 
  (
    ID_B 
  )
  ENABLE 
);

ALTER TABLE BANGUNAN
ADD CONSTRAINT BANGUNAN_FK1 FOREIGN KEY
(
  NOKTP_M 
)
REFERENCES MANDOR
(
  NOKTP_M 
)
ENABLE;

CREATE TABLE MEMESAN 
(
  ID_P VARCHAR2(50) NOT NULL 
, ID_B VARCHAR2(50) 
, NOKTP_P VARCHAR2(50) 
, CONSTRAINT MEMESAN_PK PRIMARY KEY 
  (
    ID_P 
  )
  ENABLE 
);

ALTER TABLE MEMESAN
ADD CONSTRAINT MEMESAN_FK1 FOREIGN KEY
(
  ID_B 
)
REFERENCES BANGUNAN
(
  ID_B 
)
ENABLE;

ALTER TABLE MEMESAN
ADD CONSTRAINT MEMESAN_FK2 FOREIGN KEY
(
  NOKTP_P 
)
REFERENCES PELANGGAN
(
  NOKTP_P 
)
ENABLE;

CREATE TABLE TRANSAKSI 
(
  ID_TRANSAKSI VARCHAR2(50) NOT NULL 
, ID_P VARCHAR2(50) 
, NOKTP_AD VARCHAR2(50) 
, CONSTRAINT TRANSAKSI_PK PRIMARY KEY 
  (
    ID_TRANSAKSI 
  )
  ENABLE 
);

ALTER TABLE TRANSAKSI
ADD CONSTRAINT TRANSAKSI_FK1 FOREIGN KEY
(
  ID_P 
)
REFERENCES MEMESAN
(
  ID_P 
)
ENABLE;

ALTER TABLE TRANSAKSI
ADD CONSTRAINT TRANSAKSI_FK2 FOREIGN KEY
(
  NOKTP_AD 
)
REFERENCES ADMIN
(
  NOKTP_AD 
)
ENABLE;